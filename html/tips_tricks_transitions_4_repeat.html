<!DOCTYPE html>
<meta charset="utf-8">
<style> /* set the CSS */

</style>
<body>

<h1>Tips and Tricks - Transitions 4 (Repeat)!</h1>

<!-- load the d3.js library -->     
<script src="https://d3js.org/d3.v4.min.js"></script>
<script>

// set the dimensions and margins of the graph
var margin = {top: 20, right: 20, bottom: 30, left: 50},
    width = 960 - margin.left - margin.right,
    height = 500 - margin.top - margin.bottom;

// append the svg obgect to the body of the page
var svg = d3.select("body") // Select the body element
  .append("svg") // Append an SVG element to the body
  .attr("width", 960) // make it 960 pixels wide
  .attr("height", 500) // make it 500 pixels hight
;

function circleTransition() {
  var timeCircle = svg.append("circle") 
    .attr("fill", "steelblue") 
    .attr("r", 20);

  repeat();

  function repeat() { 
    timeCircle
    .attr('cx', 40) // position the circle at 40 on the x axis
    .attr('cy', 250) 
    .transition() 
      .duration(2000) 
      .attr('cx', 920) 
      .attr('r', 40) // test
    .transition() 
      .duration(2000) 
      .attr('cx', 40)
      .attr('r', 20) // test
      .on("end", repeat); // when the transition finishes start again
  };
};

circleTransition();

</script>
</body>
